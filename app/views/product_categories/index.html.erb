<table class="admin" id="records">
  <thead>
    <% unless (pagination = will_paginate(@records,:container=>false)).nil? %>
    <tr class="pagination">
      <td colspan="<%=@options[:columns].size+2%>"><%= pagination %></td>
    </tr>
    <% end %>
    <tr>
      <td><%= link_to locales["attr_#{@options[:title][:name]}"], :action => 'index', :order => @options[:title][:name] %></td>
    <% for column in @options[:columns] %>
      <td><%= link_to locales["attr_#{column}"], :action => 'index', :order => column %></td>
    <% end %>
      <td><span id="record_add"><%= smart_link locales[:add], {:action => 'new'}, :html => {:onclick => "if(!check_opened(event)) {return false;}"} %></span></td>
    </tr>
  </thead>
  <tbody id="records_body">
  <% for record in @records %>
    <tr id="record_<%= record.id %>">
      <%= render :partial => 'show', :locals => {:record => record} %>
    </tr>
  <% end %>
  </tbody>
</table>
<% if protect_against_forgery? %> 
<div style='display: none;' id="authenticity_token"><%= form_authenticity_token %></div> 
<% end %>